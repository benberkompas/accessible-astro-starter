---
import DefaultLayout from '@layouts/DefaultLayout.astro'
import Feature from '@components/Feature.astro'
import { Icon } from 'astro-icon/components'
import Counter from '@components/Counter.astro'
import PageHeader from '@components/PageHeader.astro'
import BlockQuote from '@components/BlockQuote.astro'
import { Accordion, AccordionItem, Heading, Avatar, AvatarGroup, Link, Modal, Badge } from 'accessible-astro-components'

// Calculate total years of experience
const startDate = new Date(2008, 7) // August 2008 (0-based month index)
const now = new Date()

let years = now.getFullYear() - startDate.getFullYear()
let months = now.getMonth() - startDate.getMonth()

if (months < 0) {
  years--
  months += 12
}

// Company start/end dates
const companies = [
  { start: new Date(2018, 10), end: new Date() }, // Covenant Eyes, Nov 2018 – present
  { start: new Date(2011, 10), end: new Date(2018, 9) }, // Home Depot, Nov 2011 – Oct 2018
  //   { start: new Date(2008, 7), end: new Date(2010, 12) },  // Contractor, Aug 2008 – Jan 2011
]

// Helper to calculate months between two dates
function diffInMonths(start, end) {
  let months = (end.getFullYear() - start.getFullYear()) * 12
  months += end.getMonth() - start.getMonth()
  if (end.getDate() < start.getDate()) {
    months -= 1 // adjust if not full month yet
  }
  return months
}

// Calculate average tenure in years (with decimals)
const totalMonths = companies.reduce((sum, c) => sum + diffInMonths(c.start, c.end), 0)

const avgMonths = totalMonths / companies.length
const avgYears = (avgMonths / 12).toFixed(1) // one decimal place
---

<DefaultLayout title="Experience">
  <PageHeader title="Experience" subtitle="" bgType="bordered" showBreadcrumbs={false} />

  <!-- Counters -->

  <section class="my-12">
    <div class="space-content container">
      <Heading level="h2" id="overview">Overview</Heading>
      <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
        <div class="bordered">
          <Counter count={`${years}+`} title="years" sub="experience in design & UX" />
          <div class="text-sm text-neutral-600" style="text-align:center">
            graphic design &rarr; UX design &rarr; IA, UXA, OOUX
          </div>
        </div>
        <div class="bordered">
          <Counter count="3" title="companies" sub="I've been employed by" />
          <div class="text-sm text-neutral-600" style="text-align:center">
            publishing &rarr; retail &rarr; addiction recovery
          </div>
        </div>
        <div class="bordered">
          <Counter count={avgYears} title="years" sub="avg. company tenure*" />
          <div class="text-sm text-neutral-600" style="text-align:center">*since I began working in UX (2011)</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Certifications -->

  <section class="my-12">
    <div class="space-content container">
      <Heading level="h2" id="certifications">Certifications</Heading>
      <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
        <div class="bordered space-content">
          <Avatar
            size="md"
            shape="square"
            label="Certified Object-Oriented UX Strategist"
            title="Certified Object-Oriented UX Strategist"
            subtitle="Rewired UX Studio"
            img="/certifications/ooux.png"
          />
          <div>
            <Badge type="default" size="sm">#15000255</Badge>
            <Badge type="default" size="sm">Issued Nov 2025</Badge>
            <Badge type="default" size="sm">Exp. Nov 2028</Badge>
          </div>
          <Link
            href="https://www.ooux.com/people/benberkompas"
            isButton
            isExternal
            type="default"
            size="sm"
            class="full-width"
            target="new"
          >
            <!-- <Icon aria-hidden="true" name="lucide:badge-check" /> -->
            View certificate
          </Link>
        </div>
        <div class="bordered space-content">
          <Avatar
            size="md"
            shape="square"
            label="Certified Scrum Product Owner"
            title="Certified Scrum Product Owner"
            subtitle="Scrum Alliance"
            img="/certifications/cspo.png"
          />
          <div>
            <Badge type="default" size="sm">#696817</Badge>
            <Badge type="default" size="sm">Issued Sep 2017</Badge>
            <Badge type="default" size="sm">Exp. Sep 2019</Badge>
          </div>
          <Link
            href="https://www.scrumalliance.org/members/696817"
            title="View certificate on Scrum Alliance website"
            arialabel="View certificate on Scrum Alliance website"
            isButton
            isExternal
            type="default"
            size="sm"
            class="full-width"
          >
            <!-- <Icon aria-hidden="true" name="lucide:badge-check" /> -->
            View certificate
          </Link>
        </div>
        <div class="bordered space-content">
          <Avatar
            size="md"
            shape="square"
            label="UX & Mobile Design"
            title="UX & Mobile Design"
            subtitle="Neilsen Norman Group"
            img="/certifications/nng.png"
          />
          <div>
            <Badge type="default" size="sm">#1008199</Badge>
            <Badge type="default" size="sm">Issued May 2015</Badge>
          </div>
          <Link
            href="https://www.nngroup.com/ux-certification/people/"
            title="View certificate on Nielsen Norman Group website"
            arialabel="View certificate on Nielsen Norman Group website"
            isButton
            isExternal
            type="default"
            size="sm"
            class="full-width"
          >
            <!-- <Icon aria-hidden="true" name="lucide:badge-check" /> -->
            View certificate
          </Link>
        </div>
      </div>
    </div>
  </section>

  <section class="my-12">
    <div class="space-content container">
      <Heading level="h2" id="companies">Companies</Heading>
      <div class="bordered space-content" id="covenant-eyes">
        <div>
          <Avatar
            size="sm"
            shape="square"
            label="Covenant Eyes"
            title=""
            subtitle=""
            img="/companies/covenant-eyes.svg"
            style="float:left"
            class="mr-2"
          />
          <Heading level="h3">Covenant Eyes</Heading>
          <div class="my-4 text-neutral-600">
            <div>
              <Icon name="lucide:calendar" class="inline-icon mr-2" />Nov 2018 - Present (<span id="company-tenure"
              ></span>)
            </div>
            <div>
              <Icon name="lucide:map-pin" class="inline-icon mr-2" />Remote
            </div>
            <div>
              <Icon name="lucide:link" class="inline-icon mr-2" /><a href="https://www.covenanteyes.com" target="new"
                ><span class="text-neutral-600">covenanteyes.com</span></a
              >
            </div>
          </div>
          <!-- <Button type="primary" animateOnHover
                        ><Icon aria-hidden="true" name="lucide:panels-top-left" size="24" />View Projects</Button
                    > -->
        </div>
        <div class="grid grid-cols-1 gap-24 md:grid-cols-2">
          <div class="space-content">
            <Heading level="h4">About</Heading>
            <p>
              We are confronting the problem of pornography with a distinctly relational form of accountability that
              connects people who want to quit porn with others who can help them achieve lasting victory.
            </p>
            <p>
              This has been a very gratifying chapter in my career, helping me to see the potential of design to drive
              life-changing results. Just as I had hoped when I joined CE, we're using technology to "redeem" itself, in
              a way. The stakes are enormously high, making it both a privilege and a heavy weight to carry.
            </p>

            <Heading level="h4">Skills</Heading>
            <!-- <p>These are the skills I use on a regular basis at Covenant Eyes.</p> -->
            <div class="flex flex-wrap gap-2">
              <Badge type="default">Conceptual Modeling</Badge>
              <Badge type="default">Systems Modeling</Badge>
              <Badge type="default">Object-Oriented UX</Badge>
              <Badge type="default">Information Architecture</Badge>
              <Badge type="default">UX Strategy</Badge>
              <Badge type="default">Interaction Design</Badge>
              <Badge type="default">Prototyping</Badge>
              <Badge type="default">Wireframing</Badge>
              <Badge type="default">User Research</Badge>
              <Badge type="default">Qualitative Data Analysis</Badge>
              <Badge type="default">HTML</Badge>
              <Badge type="default">CSS</Badge>
              <Badge type="default">Project Management</Badge>
              <Badge type="default">Team Leadership</Badge>
            </div>

            <Heading level="h4">Tools</Heading>
            <!-- <p>At Covenant Eyes, I rely on these software tools to get most of my work done.</p> -->
            <AvatarGroup display="grid" gridGap="1.5rem">
              <Avatar
                size="sm"
                shape="square"
                label="Miro"
                title="Miro"
                subtitle="Modeling & workshops"
                img="/tools/miro.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Notion"
                title="Notion"
                subtitle="Notes & task management"
                img="/tools/notion.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Figma"
                title="Figma"
                subtitle="Wireframing & prototyping"
                img="/tools/figma.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Condens"
                title="Condens"
                subtitle="Research repository"
                img="/tools/condens.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Confluence"
                title="Confluence"
                subtitle="Documentation"
                img="/tools/confluence.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Jira"
                title="Jira"
                subtitle="Project management"
                img="/tools/jira.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Numbers"
                title="Numbers"
                subtitle="Data analysis"
                img="/tools/numbers.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Keynote"
                title="Keynote"
                subtitle="Presentations"
                img="/tools/keynote.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="VS Code"
                title="VS Code"
                subtitle="Coding"
                img="/tools/vs-code.jpg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Cursor"
                title="Cursor"
                subtitle="Coding"
                img="/tools/cursor.webp"
              />
            </AvatarGroup>
          </div>
          <div class="space-content">
            <Heading level="h4">Roles</Heading>
            <Accordion>
              <AccordionItem
                title="Senior Product Designer (Information Architect)"
                name="covenant-eyes"
                open="true"
                variant="chevron"
              >
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Mar 2024 - Present (<span id="role-tenure"
                  ></span>)
                </div>
                <!-- <p>In my unofficial capacity as an information architect, I support the UX team by:</p> -->
                <ul>
                  <li>
                    Served as a design consultant to product and engineering teams, reviewing in-progress work,
                    clarifying structural issues, and helping teams resolve IA and interaction decisions independently.
                  </li>
                  <li>
                    Led cross-product alignment initiative using conceptual modeling and IA, reducing semantic drift
                    across teams and establishing a strong foundation for future feature work.
                  </li>
                  <li>
                    Defined strategic approach for notification system overhaul, mapping events to notifications and
                    standardizing cross-channel representations (email, push, in-app), reducing ambiguity for users
                    while enabling scalable notification preferences.
                  </li>
                  <li>
                    Upgraded “conversations” from an experimental add-on to a first-class private messaging feature,
                    redesigning app navigation and fine-tuning interactions to make it a viable alternative to
                    mainstream messaging services.
                  </li>
                  <li>
                    Facilitated <a
                      href="/portfolio/aligning-conceptual-models-for-relational-accountability/"
                      target="new">cross-functional alignment on “check-ins” feature</a
                    > by conducting stakeholder interviews, creating visual models, and guiding team to explicit consensus
                    on foundational concepts before implementation, which prevented downstream decision churn.
                  </li>
                  <li>
                    Influenced brand architecture decision for a high-profile app name change, providing IA perspective
                    on structural implications and tradeoffs across our suite of products.
                  </li>
                  <li>
                    Established conceptual modeling practice using Object-Oriented UX methodology, introducing and
                    evangelizing approach across organization.
                  </li>
                </ul>
              </AccordionItem>
              <AccordionItem title="UX Supervisor" open="" name="covenant-eyes" variant="chevron">
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Oct 2022 - Mar 2024 (1 yr 6 mos)
                </div>
                <!-- <p>Although I had always resisted the idea of going into management, I was given the opportunity in late 2022 and chose to accept. This was a season of relative instability for our team, and I did this more as a service to them than a calculated move to advance my own career.</p>
                                <p>My responsibilities included:</p> -->
                <ul>
                  <li>
                    Mentored 3 designers through advancement to Level 3, providing process guidance and career
                    development support.
                  </li>
                  <li>
                    Led end-to-end hiring process for a design role on my team, including role definition, candidate
                    evaluation, interviews, and final selection.
                  </li>
                </ul>
              </AccordionItem>
              <AccordionItem title="Senior Product Designer" open="" name="covenant-eyes" variant="chevron">
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Nov 2018 - Oct 2022 (4 yrs)
                </div>
                <ul>
                  <li>
                    Audited roles and permissions architecture, documenting current state and creating future state
                    concepts.
                  </li>
                  <li>
                    Designed internal and customer-facing systems supporting B2B programs, billing, and account
                    management.
                  </li>
                  <li>
                    Designed customer-facing experience for sales tax collection, which preserved profit margin while
                    helping customers accept the change and know the exact breakdown of their payments.
                  </li>
                  <li>
                    Led 4-session workshop series teaching semantic interaction design and grammar mapping to design
                    team.
                  </li>
                </ul>
              </AccordionItem>
            </Accordion>
          </div>
        </div>
      </div>
      <div class="bordered space-content" id="home-depot">
        <div>
          <Avatar
            size="sm"
            shape="square"
            label="Home Depot"
            title=""
            subtitle=""
            img="/companies/home-depot.jpg"
            style="float:left"
            class="mr-2"
          />
          <Heading level="h3">Home Depot</Heading>
          <div class="my-4 text-neutral-600">
            <div>
              <Icon name="lucide:calendar" class="inline-icon mr-2" />Nov 2011 - Oct 2018 (6 yrs 11 mos)
            </div>
            <div>
              <Icon name="lucide:map-pin" class="inline-icon mr-2" />On-site, Vancouver WA
            </div>
            <div>
              <Icon name="lucide:link" class="inline-icon mr-2" /><a href="https://www.homedepot.com" target="new"
                ><span class="text-neutral-600">homedepot.com</span></a
              >
            </div>
          </div>
        </div>
        <div class="grid grid-cols-1 gap-24 md:grid-cols-2">
          <div class="space-content">
            <Heading level="h4">About</Heading>
            <p>
              What began as a scrappy startup of 2 dozen people when I joined (as their first design hire) had grown to
              become an innovative new division of 200+ by the time I left in 2018.
            </p>
            <p>
              We started off with software that helped professional contractors specify and order custom roof trusses,
              which was a notoriously difficult and error-prone product line.
            </p>
            <p>
              In 2014, we began building a comprehensive, searchable catalog of special-order products. This was the
              first time in-store sales associates could look up pricing without referring to printed price sheets or
              picking up the phone.
            </p>
            <p>
              That became a powerful estimation and quoting platform that helped Home Depot gain marketshare with pro
              contractors. It was rolled out to over 2,000 Home Depot stores in the U.S. and, in 2017, processed $5.7b
              in quotes and $1.4m in sales.
            </p>

            <Heading level="h4">Skills</Heading>
            <!-- <p>These are the skills I used on a regular basis at Home Depot.</p> -->
            <div class="flex flex-wrap gap-2">
              <Badge type="default">User Interface Design</Badge>
              <Badge type="default">Usability Testing</Badge>
              <Badge type="default">Interaction Design</Badge>
              <Badge type="default">Wireframing</Badge>
              <Badge type="default">Sketching</Badge>
              <Badge type="default">Prototyping</Badge>
              <Badge type="default">HTML</Badge>
              <Badge type="default">CSS</Badge>
              <Badge type="default">Liquid</Badge>
              <Badge type="default">ReactJS</Badge>
            </div>

            <Heading level="h4">Tools</Heading>
            <!-- <p>These are the software tools I used at Home Depot, along with whiteboards, graph paper, and markers!</p> -->
            <AvatarGroup display="grid" gridGap="1.5rem">
              <Avatar
                size="sm"
                shape="square"
                label="Evernote"
                title="Evernote"
                subtitle="Notes"
                img="/tools/evernote.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Balsamiq"
                title="Balsamiq"
                subtitle="Wireframing"
                img="/tools/balsamiq.png"
              />
              <!-- <Avatar size="sm" shape="square" label="Liquid" title="Liquid" subtitle="Prototyping" img="/tools/liquid.png" /> -->
              <Avatar
                size="sm"
                shape="square"
                label="Sketch"
                title="Sketch"
                subtitle="UI design & prototyping"
                img="/tools/sketch.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Fieldbook"
                title="Fieldbook"
                subtitle="Research repository"
                img="/tools/fieldbook.png"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Confluence"
                title="Confluence"
                subtitle="Documentation"
                img="/tools/confluence.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Jira"
                title="Jira"
                subtitle="Project & task management"
                img="/tools/jira.svg"
              />
              <Avatar
                size="sm"
                shape="square"
                label="Numbers"
                title="Numbers"
                subtitle="Data analysis"
                img="/tools/numbers.png"
              />
              <!-- <Avatar size="sm" shape="square" label="Keynote" title="Keynote" subtitle="Presentations" img="/tools/keynote.png" /> -->
              <Avatar
                size="sm"
                shape="square"
                label="Sublime"
                title="Sublime"
                subtitle="Coding"
                img="/tools/sublime.png"
              />
            </AvatarGroup>
          </div>
          <div class="space-content">
            <Heading level="h4">Roles</Heading>
            <Accordion>
              <AccordionItem title="Senior UX Designer" open="true" name="home-depot" variant="chevron">
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Feb 2014 - Oct 2018 (4 yrs 9 mos)
                </div>
                <ul>
                  <li>
                    Designed multiple iterations of a B2B quoting and estimation platform used across 2,000+ Home Depot
                    stores, processing billions in quotes annually.
                  </li>
                  <li>
                    Participated in early component standardization and architecture initiatives, creating reusable
                    patterns to streamline design and development.
                  </li>
                  <li>
                    Researched and designed choreography for delivery of materials direct to the job-site, including
                    address verification, liability waivers, and fee collection; led to efficiency gains in the pro
                    contractor sales process and fewer rejected POs.
                  </li>
                  <li>
                    Designed a <a href="/portfolio/testing-and-improving-quantity-conversion/" target="new"
                      >flexible system</a
                    > enabling associates to convert the customer's requested quantities into purchasable offerings.
                  </li>
                  <li>
                    Defined user-facing change management approach for v1 platform retirement, in partnership with PM.
                  </li>
                  <li>
                    Framed and designed pilot program for a self-service product and pricing portal for pro contractors.
                  </li>
                </ul>
              </AccordionItem>
              <AccordionItem title="E-Content Designer" open="" name="home-depot" variant="chevron">
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Feb 2013 - Feb 2014 (1 yr 1 mo)
                </div>
                <ul>
                  <li>Designed internal management systems for product, vendor, and merchandising data.</li>
                  <li>
                    Designed integration architecture for multiple customer databases, solving complex data
                    reconciliation problems between systems.
                  </li>
                </ul>
              </AccordionItem>
              <AccordionItem title="UX Designer / Business Analyst" open="" name="home-depot" variant="chevron">
                <div class="mb-4 text-neutral-600">
                  <Icon name="lucide:calendar" class="inline-icon mr-2" />Nov 2011 - Feb 2013 (1 yr 4 mos)
                </div>
                <ul>
                  <li>
                    Designed the first-ever searchable product catalog for special order products, along with roof truss
                    and engineered wood configurators that simplified the estimation and quoting process and bolstered
                    sales to pro contractors.
                  </li>
                  <li>
                    Prototyped a hypothetical future state of our product that helped convince Home Depot executives to
                    acquire our startup in 2014.
                  </li>
                </ul>
              </AccordionItem>
            </Accordion>
          </div>
        </div>
      </div>

      <div class="bordered space-content" id="ben-berkompas-design">
        <div>
          <Heading level="h3">Ben Berkompas Design</Heading>
          <div class="my-4 text-neutral-600">
            <div>
              <Icon name="lucide:calendar" class="inline-icon mr-2" />Oct 2010 - Feb 2013 (2 yrs 5 mos)
            </div>
            <div>
              <Icon name="lucide:map-pin" class="inline-icon mr-2" />Remote
            </div>
          </div>
        </div>
        <div class="space-content">
          <Heading level="h4">About</Heading>
          <p>
            I ran my own shop on the side for several years, working with my clients on branding, identity design,
            marketing, and some web design.
          </p>
          <Heading level="h4">Skills</Heading>
          <div class="flex flex-wrap gap-2">
            <Badge type="default">Graphic Design</Badge>
            <Badge type="default">Print Design</Badge>
            <Badge type="default">Logo Design</Badge>
            <Badge type="default">HTML</Badge>
            <Badge type="default">CSS</Badge>
          </div>
        </div>
      </div>
      <div class="bordered space-content" id="internship-contractor">
        <div>
          <Heading level="h3">Internship &rarr; Contractor</Heading>
          <div class="my-4 text-neutral-600">
            <div>
              <Icon name="lucide:calendar" class="inline-icon mr-2" />Aug 2008 - Jan 2011 (2 yrs 6 mos)
            </div>
            <div>
              <Icon name="lucide:map-pin" class="inline-icon mr-2" />On-site, San Antonio TX
            </div>
          </div>
        </div>
        <div class="space-content">
          <Heading level="h4">About</Heading>
          <p>
            I took an internship in the creative department of a publisher and retailer in San Antonio, TX. After 11
            months, it turned into full-time work. During this time I learned a lot about the production of books,
            catalogs, and other products. It also exposed me to what it was like to design in the context of a real
            world business. (I also credit this job with my mastery over Photoshop keyboard shortcuts!)
          </p>
          <Heading level="h4">Skills</Heading>
          <div class="flex flex-wrap gap-2">
            <Badge type="default">Graphic Design</Badge>
            <Badge type="default">Print Design</Badge>
          </div>
        </div>
      </div>

      <!-- <section class="my-12">
        <div class="container space-content">
            <Heading level="h2">What's Next</Heading>
            <section class="mt-12 mb-24">
                <div class="grid grid-cols-1 gap-10 md:grid-cols-2">
                    <Feature icon="lucide:drafting-compass" title="Role">
                        <p>I'm interested in UX roles that focus on architecture, system design, research, and product strategy.</p>
                    </Feature>
                    <Feature icon="lucide:handshake" title="Team">
                        <p>I want to work with a cross-functional team focused on achieving outcomes vs. just creating outputs, obsessed with quality and customer satisfaction, and intent on truly <em>solving problems</em> vs. merely shipping solutions.</p>
                    </Feature>
                    <Feature icon="lucide:rocket" title="Company">
                        <p>Ideally, my next job will be with a relatively small product-focused company with a strong remote-first culture, that's been around for 5-10 years.</p>
                    </Feature>
                    <Feature icon="lucide:earth" title="Mission">
                        <p>I want to keep working with people who are doing things that align with my personal values, e.g. <span id="modal1-trigger" class="modal-trigger">agriculture and food systems</span>, <span id="modal2-trigger" class="modal-trigger">health and chronic disease</span>, and <span id="modal3-trigger" class="modal-trigger">childhood education and life skills</span>.</p>
                        <Modal triggerId="modal1-trigger" title="Agriculture &amp; food systems">
                            <p>Especially regenerative methods and local grower/consumer relationships.</p>
                        </Modal>
                        <Modal
                        triggerId="modal2-trigger"
                        title="Health &amp; chronic disease">
                            <p>Especially addressing chronic disease through nutrition and lifestyle.</p>
                        </Modal>
                        <Modal
                        triggerId="modal3-trigger"
                        title="Childhood education &amp; life skills">
                            <p>Especially addressing harms arising from screens and digital tech.</p>
                        </Modal>
                    </Feature>
                </div>
            </section>
        </div>
    </section> -->
    </div>

    <script is:inline>
      ;(function () {
        function formatDiff(start) {
          const startDate = start instanceof Date ? start : new Date(start)
          const now = new Date()

          let years = now.getFullYear() - startDate.getFullYear()
          let months = now.getMonth() - startDate.getMonth()

          if (now.getDate() < startDate.getDate()) {
            // Not a full month yet
            months -= 1
          }
          if (months < 0) {
            years--
            months += 12
          }

          const parts = []
          if (years > 0) parts.push(`${years} ${years === 1 ? 'yr' : 'yrs'}`)
          if (months > 0) parts.push(`${months} ${months === 1 ? 'mo' : 'mos'}`)
          if (parts.length === 0) parts.push('0 mo')
          return parts.join(' ')
        }

        function run() {
          try {
            // adjust these start dates to your actual dates (month is 0-based)
            const companyStart = new Date(2018, 10) // Nov 2018
            const roleStart = new Date(2024, 2) // Mar 2024

            const elCompany = document.getElementById('company-tenure')
            const elRole = document.getElementById('role-tenure')

            if (elCompany) elCompany.textContent = formatDiff(companyStart)
            if (elRole) elRole.textContent = formatDiff(roleStart)
          } catch (e) {
            // avoid breaking navigation; log for debugging
            console.error('tenure script error:', e)
          }
        }

        // Run now if DOM already ready (covers client-side navigation where DOMContentLoaded won't fire)
        if (document.readyState === 'interactive' || document.readyState === 'complete') {
          run()
        } else {
          document.addEventListener('DOMContentLoaded', run)
        }

        // Ensure it also runs after Astro view-transitions / client-side nav
        document.addEventListener('astro:page-load', run)
      })()
    </script>

    <style lang="scss">
      .inline-icon {
        display: inline;
        margin-bottom: 4px;
      }
      .modal-trigger {
        border-bottom: 1px dashed;
      }
      .modal-trigger:hover {
        cursor: pointer;
        /* color: gray; */
      }
      .bordered {
        border: 1px solid var(--border-color-subtle);
        border-radius: var(--radius-md);
        padding: var(--space-l);
      }
      .full-width {
        width: 100%;
      }
    </style>
  </section>
</DefaultLayout>
